#!/usr/bin/env node

const { createCommand } = require('commander');
const { tinypng } = require('../lib');

const program = createCommand();

// 设置版本号
program
	.usage('<command> [options]')
	.version(require('../package.json').version);

// 注册命令
program
	.command('png')
	.description('start compress images')
	.option('-i, --input <string>', 'input directory')
	.option('-o, --output <string>', 'output directory')
	.option('-ext, --extname <string>', 'filter files by extname')
	.action(tinypng);

// 开始解析
program.parse(process.argv);

if (!program.args.length) {
	program.outputHelp();
}
